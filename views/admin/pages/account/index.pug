extend ../../layouts/default

block main
  if user_role.permissions.includes("acc-view")

    h1 Account
    .card.mt-3
      .card-header List
      .card-body 
        .row
          .col-8 
          .col-4 
            a(href=`${prefixAdmin}/account/create` class="btn btn-outline-success") + Add New

    table(class="table table-hover table-lg")
      thead 
        tr         
          th ID
          th Avatar
          th Full Name
          th Authorization
          th Email
          th Status
          th Action       
      tbody 
        if records
          each item, index in records
            tr 
              td #{index + 1}
              td 
                img(src=item.avatar width= "100px" height="auto" alt="lol")
              td #{item.fullName}
              td #{item.role_id}    
              td #{item.email}          
              td          
                if item.status == "inactive"
                  a(
                    href="#" 
                    class="badge badge-danger"
                    button-change-status="active"
                    id=item.id) Inactive
                else
                  a(
                    href="#" 
                    class="badge badge-success"
                    button-change-status="inactive"
                    id=item.id) Active
              td
                a(class="btn btn-secondary btn-sm" href=`${prefixAdmin}/account/detail/${item.id}`) Detail
                a(class="btn btn-warning btn-sm" href=`${prefixAdmin}/account/edit/${item.id}`) Edit
                if user_role.permissions.includes("acc-delete")
                  button(class="btn btn-danger btn-sm" button-delete=item.id) Delete
  else 
    h1 You dont have permissions to access